#!/usr/bin/env bash

FILE_PATH="$(pwd)/${BASH_SOURCE[0]}"
BIN_DIR="$(cd "$(dirname "${FILE_PATH}")" && pwd)"

source ${BIN_DIR}/common/setup ${1}

echo "Bin dir: ${BIN_DIR}"
echo "Project dir: ${PROJECT_DIR}"

if [ ! -d $PROJECT_DIR/build ]; then
   sudo mkdir $PROJECT_DIR/build
fi

# Set path according to build type
# "/opt" for release, "/debug" for debug mode
BUILD_PATH=opt
if [ "$1" == "debug" ]; then
  BUILD_PATH=debug
fi

echo Deleting files under build/$BUILD_PATH
cd $PROJECT_DIR/build && rm -rf $BUILD_PATH/