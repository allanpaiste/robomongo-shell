#!/usr/bin/env bash

FILE_PATH="$(pwd)/${BASH_SOURCE[0]}"
BIN_DIR="$(cd "$(dirname "${FILE_PATH}")" && pwd)"

deactivate 2>/dev/null

source ${BIN_DIR}/common/setup ${1}
source ${BIN_DIR}/common/config

echo "Bin dir: ${BIN_DIR}"
echo "Project dir: ${PROJECT_DIR}"

brew install scons openssl
sudo easy_install pip

# If the above fails:
#
# sudo -H pip install pip --user --upgrade
# sudo apt-get install python3-pip
# sudo pip3 install --upgrade setuptools
#
# ... then run 'easy_install' command again

pip install virtualenv

virtualenv --python=python2.7 venv

source venv/bin/activate

pipenv install

deactivate
